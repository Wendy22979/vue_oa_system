# 首页结构

+ 顶部结构
+ 主页内容
  + 再分为左右区域
  + 左侧区域：日历区域，公告区域
  + 右侧区域：流程申请，绩效指数，帮助链接
+ 离职弹窗

# 首页重点

+ 头部用户信息动态展示
+ 雷达图组件封装
+ 日历组件封装
+ 离职弹窗与表单验证

# 离职弹窗处理

+ 接口封装

  ```js
  // 发起审批流程申请
  export const startProcess = (data) => {
    return require({
      url: '/user/process/startProcess',
      method: 'post',
      data
    })
  }
  ```

  

+ 弹窗处理函数

  ```js
     // 离职弹窗确定
      btnOK() {
        // 再次验证信息
        this.$refs['ruleForm'].validate(async(valid) => {
          if (valid) {
            try {
              // 验证成功发送请求
              await startProcess({
                ...this.ruleForm,
                userId: this.userInfo.userId,
                username: this.userInfo.username
              })
  
              Message.success('申请成功')
  
              // 关闭弹窗以及重置表单
              this.btnCancel()
            } catch (error) {
              console.log(error)
            }
          }
        })
      }
  ```

# 日历组件封装

+ 删除多于的节点

  ```js
    removeCalendar() {
        this.$el.querySelector('.el-calendar__title').remove() // 删除日历年月日
        this.$el.querySelector('.el-button-group').remove() // 删除
        this.$el.querySelector('.el-calendar__header').remove() // 删除日历分割线
      }
  ```

  

+ 自定义单元格样式

  + 简单修改单元格数据，以当前时间为模板，使用过滤器，返回要展示的内容,休条件渲染

    ```js
        <el-calendar v-model="value">
          <template
            slot="dateCell"
            slot-scope="{date, data}"
          >
            <div class="date-content">
              <span class="text"> {{ data.day|getDay }}</span>
              <span class="rest" v-if="isWeek(date)">休</span>
            </div>
          </template>
        </el-calendar>
    
      // 判断是否是周末
        isWeek(date) {
          const week = date.getDay() - 0
          if (week === 6 || week === 0) {
            return true
          } else {
            return false
          }
        }
    ```

+ 添加selector可以选择切换前后五年的年份，以及12个月的月份，非目前年月，默认是一月份的1日为起点

# 雷达图的封装

